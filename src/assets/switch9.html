<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MVHR Control Interface</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f5f5f5;
            font-family: "Sans", sans-serif;
        }
        .svg-container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        svg {
            max-width: 100%;
            height: auto;
        }
        .region {
            cursor: pointer;
        }
        .region-path {
            fill: transparent;
            stroke: #333;
            stroke-width: 1px;
            transition: all 0.3s ease;
        }
        .region:hover .region-path {
            fill: rgba(128, 128, 128, 0.2);
            stroke: #666;
            stroke-width: 1.5px;
        }
        .region.active .region-path {
            fill: rgba(67, 182, 73, 0.3);
            stroke: #43b649;
            stroke-width: 2px;
        }
        .region-text {
            pointer-events: none;
            user-select: none;
        }
        text {
            fill: #333;
            font-weight: 500;
            font-family: "Sans", sans-serif;
        }
    </style>
</head>
<body>
<div class="svg-container">
    <svg
            width="300mm"
            height="300mm"
            viewBox="0 0 300 300"
            id="svg1"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            xmlns="http://www.w3.org/2000/svg">
        <g id="layer1">
            <!-- Auto Region -->
            <g id="auto-region" class="region" role="button" aria-label="Auto mode">
                <path class="region-path"
                      d="M 271.24355652982143 220 A 140 140 0 0 1 28.75644347017858 220 L 80.7179676972449 190 A 80 80 0 0 0 219.2820323027551 190 Z"/>
                <path id="textPath8" style="fill:none"
                      d="m 70.591028,195.84679 c 16.055575,26.50519 45.608592,44.27802 79.408902,44.27802 33.80043,0 63.35347,-17.77283 79.40906,-44.27801" />
                <text class="region-text" style="font-size:50.8px">
                    <textPath xlink:href="#textPath8" startOffset="50%" text-anchor="middle" dominant-baseline="hanging">AUTO
                    </textPath>
                </text>
            </g>

            <!-- Purge Region -->
            <g id="purge-region" class="region" role="button" aria-label="Purge mode">
                <path class="region-path"
                      d="M 150 10 A 140 140 0 0 1 271.24355652982143 220 L 219.2820323027551 190 A 80 80 0 0 0 150 70 Z"/>
                <path id="textPath6" style="fill:none"
                      d="m 149.99993,59.875204 c 50.92929,0 92.21558,40.350216 92.21558,90.124796 0,18.27265 -4.45077,33.71771 -11.9695,46.33006" />
                <text class="region-text" style="font-size:50.8px">
                    <textPath xlink:href="#textPath6" startOffset="50%" text-anchor="middle">PURGE</textPath>
                </text>
            </g>

            <!-- MVHR Region -->
            <g id="mvhr-region" class="region" role="button" aria-label="MVHR mode">
                <path class="region-path"
                      d="M 28.75644347017858 220 A 140 140 0 0 1 149.99999999999997 10 L 149.99999999999997 70 A 80 80 0 0 0 80.7179676972449 190 Z"/>
                <path id="textPath4" style="fill:none"
                      d="M 70.591028,195.84679 C 62.454632,182.4149 57.784517,166.74046 57.784517,150 c 0,-49.77458 41.286299,-90.124796 92.215413,-90.124796" />
                <text class="region-text" style="font-size:50.8px">
                    <textPath xlink:href="#textPath4" startOffset="50%" text-anchor="middle">MVHR</textPath>
                </text>
            </g>
        </g>
    </svg>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const regions = document.querySelectorAll('.region');

        regions.forEach(region => {
            region.addEventListener('click', function(e) {
                activateRegion(this);
            });

            region.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    activateRegion(this);
                }
            });

            region.setAttribute('tabindex', '0');
        });

        function activateRegion(region) {
            regions.forEach(r => r.classList.remove('active'));
            region.classList.add('active');
            console.log('Activated region:', region.id);

            const event = new CustomEvent('regionChange', {
                detail: { region: region.id }
            });
            document.dispatchEvent(event);
        }
    });
</script>
</body>
</html>